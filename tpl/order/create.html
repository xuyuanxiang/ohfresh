<div class="content-block-title">
    我的购物车
</div>
<div ng-show="!products || products.length<=0" class="content-block">
    <div class="content-block-inner">
        <h4>您还没有选购商品。</h4>
    </div>
</div>
<div ng-show="products && products.length>0" class="list-block media-list">
    <ul>
        <li ng-repeat="product in products">
            <a href="#" ng-click="removeFromCart(product)" style="font-size: 24px;float: right;margin-right: 5px;">
                <i class="fa fa-times"></i>
            </a>
            <label class="label-checkbox item-content"
                   ng-init="product.checked=product.checked?product.checked:false">
                <input type="checkbox" name="my-checkbox" ng-model="product.checked">

                <div class="item-media"><i class="icon icon-form-checkbox"></i></div>
                <div class="item-inner">
                    <div class="item-title-row">
                        <div class="item-title">{{product.name}}</div>
                        <div class="item-after">
                             <span class="fa fa-yen">
                                {{product.price * product.num}}
                             </span>

                        </div>
                    </div>


                </div>
            </label>

            <div class="item-content">
                <div class="item-media">
                    <i class="icon fa fa-edit"></i>
                </div>
                <div class="item-inner">
                    <div class="item-title-row">
                        <div class="item-title label">数量：</div>
                        <div class="item-input">
                            <div class="input-group">
                                <div class="input-group-btn">
                                    <button class="btn-minus"
                                            ng-click="product.num = product.num>1?product.num-1:product.num">
                                        <span class="fa fa-minus"></span>
                                    </button>
                                </div>
                                <input ng-model="product.num" class="input"
                                       type="number" min="1"/>

                                <div class="input-group-btn">
                                    <button class="btn-plus" ng-click="product.num=product.num+1">
                                        <span class="fa fa-plus"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </li>
    </ul>
</div>

<div ng-show="products && products.length>0" class="content-block-title">配送方式</div>
<div ng-show="products && products.length>0" class="list-block media-list">
    <ul>
        <li class="item-content">
            <div class="item-inner">
                <div class="item-input">
                    <select name="deliverWay" ng-model="deliver">
                        <option value="">----请选择----</option>
                        <option value="0">自取</option>
                        <option value="1">快递</option>
                    </select>
                </div>
            </div>
        </li>

        <li ng-show="deliver == 1 && customer.addressId">
            <a href="#" class="item-link item-content">
                <div class="item-inner">
                    <div class="item-title-row">
                        <div class="item-title">
                            {{currentAddress.name}}
                        </div>
                        <div class="item-after">
                            配送地址管理
                        </div>
                    </div>
                    <div class="item-subtitle">
                        <span class="fa fa-mobile"> {{currentAddress.mobilephone}}</span>
                    </div>
                    <div class="item-text">{{currentAddress.assemblename}}</div>
                </div>
            </a>
        </li>
    </ul>
</div>

<div class="list-block" ng-show="deliver == 1 && !customer.addressId">
    <form>
        <ul>
            <li class="item-content">
                <div class="item-inner">
                    <div class="item-title label">
                        收货人：
                    </div>
                    <div class="item-input">
                        <input type="text" name="name"
                               ng-model="currentAddress.name"
                               ng-value="customer.name"/>
                    </div>
                </div>
            </li>
        </ul>
    </form>
</div>

<div ng-show="total().num>0" class="content-block-title">
    合计：<span class="fa fa-yen">{{total().price}}</span>
</div>
<div class="list-block" ng-show="products && products.length>0">
    <ul>
        <li class="item-content">
            <div class="item-inner">
                <div class="item-title label">
                    支付方式：
                </div>
                <div class="item-input">
                    <select name="paymentway">
                        <option value="1">现金支付</option>
                    </select>
                </div>
            </div>
        </li>
        <li class="item-content">
            <div class="item-inner">
                <input ng-disabled="total().num<=0" type="submit" ng-click="checkOut(total().products)"
                       class="button button-submit button-big"
                       ng-value="'结算(共'+total().num+'件商品)'"/>
            </div>
        </li>
    </ul>
</div>